---
const conf = [
	{
		id: "1",
		src: "FhB9QWdXkAAbxbw.jpeg",
		author: "https://twitter.com/tompimento",
		name: ""
	},
	{
		id: "2",
		src: "FhDw59-WAAIxhe9.jpeg",
		author: "https://twitter.com/bloospicy",
		name: ""
	},
	{
		id: "3",
		src: "funart1.jpg",
		author: "https://instagram.com/ninon_le_dragon",
		name: ""
	},
	{
		id: "4",
		src: "image_6487327.jpg",
		author: "https://instagram.com/ninon_le_dragon",
		name: ""
	},
	{
		id: "5",
		src: "ZZCCMXTP1-comp.jpg",
		author: "https://www.instagram.com/maxime_allirot_design",
		name: ""
	},
	{
		id: "6",
		src: "fanfan-comp.jpg",
		author: "http://twitter.com/biendken",
		name: ""
	},
	{
		id: "7",
		src: "FanArt-ZZCCMXTP-comp.jpg",
		author: "https://twitter.com/Maxtar33",
		name: ""
	},
	{
		id: "8",
		src: "Krono-comp.jpg",
		author: "https://twitter.com/UnderSesel",
		name: ""
	},
	{
		id: "9",
		src: "bigbosskrono-comp.jpg",
		author: "https://twitter.com/urfavalcohol",
		name: ""
	},
	{
		id: "10",
		src: "Pelerine-Legendraire23.jpg",
		author: "https://twitter.com/M0rcer0l0r",
		name: ""
	},
	{
		id: "11",
		src: "FhPetLeXoAEqZ2e.png",
		author: "https://twitter.com/kronomuzik",
		name: ""
	},
	{
		id: "12",
		src: "zzcc.jpg",
		author: "https://twitter.com/Wendigo_Doumeli",
		name: ""
	},
	{
		id: "13",
		src: "FWLa4OfWIAAU2y6.jpg",
		author: "https://twitter.com/Wendigo_Doumeli",
		name: ""
	},
];

const shuffleArray = array => {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    const temp = array[i];
    array[i] = array[j];
    array[j] = temp;
  }

	return array
}

const fanarts = shuffleArray(conf.map((fanart) => {
	fanart.name = fanart.author.match('([^\/]+$)')[0]

	return fanart;
}))
---

<div id="gallery" class="flex mx-auto flex-row z-20 overflow-hidden flex-wrap gap-2">
	{fanarts.map((fanart) =>
	<>
		<div class="flex-1 basis-full md:basis-[21%] mx-2 md:mx-0 card shadow-lg bg-base-200 min-w-0 w-full shrink min-h-0 h-full">
			<label for={`art-${fanart.id}`}>
				<figure><img src={`/media/fanart/${fanart.src}`} alt={`un bo fanart de la part de ${fanart.name}`} /></figure>
				<div class="card-body p-1 block mr-1">
					<p class="text-right">Réalisé par <a href={fanart.author} target="_blank" class="text-accent underline">{fanart.name}</a></p>
				</div>
			</a>
		</div>

		<input type="checkbox" id={`art-${fanart.id}`} class="modal-toggle" />
		<label for={`art-${fanart.id}`} class="modal cursor-pointer">
			<label class="modal-box relative w-11/12 max-w-5xl"  for="">
				<a href={fanart.author} target="_blank" class="text-accent underline">
					<figure ><img class="md:h-[70vh] md:max-h-[90%] mx-auto" src={`/media/fanart/${fanart.src}`} alt={`un bo fanart de la part de ${fanart.name}`} /></figure>
				</a>
				<p class="text-center mt-2">Réalisé par <a href={fanart.author} target="_blank" class="text-accent underline">{fanart.name}</a></p>
				<div class="modal-action">
					<label for={`art-${fanart.id}`} class="btn btn-accent invisible sm:visible" onMouseOver="this.innerText='grave bo jadore!!!'">pa ouf...</label>
					<label for={`art-${fanart.id}`} class="btn btn-accent">oé stylé 👍</label>
				</div>
			</label>
		</label>
	</>
	)}
</div>
